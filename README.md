# Задача для направления Data Science от Digital агентства Победа

`Компания-партнёр Нетологии «Digital агентства Победа» предлагает выполнить практическую задачу по направлению Data Science!`

`Digital агентство Победа — команда профессионалов, которая делает продвижение бизнеса в digital результативным и понятным через грамотную стратегию, инновации и креатив.`

`Кто может принять участие:`

`Студенты и выпускники направления «Data Science»`
`По результатам выполнения задания авторы лучших решений получат возможность пройти отбор на` `практику в Digital агентство Победа. Это уникальная возможность получить практический опыт` `работы с данными и нейросетями в реальном проекте!`



# Описание задания:

`Задание 1. Базовый анализ данных`
`Сгенерируйте данные с помощью этого кода:`

`python`
`import pandas as pd`
`data = {`
`‘user_id’: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15],`
`‘messages_count’: [15, 7, 32, 3, 28, 12, 45, 5, 22, 8, 18, 2, 35, 9, 25],`
`‘session_minutes’: [8, 4, 25, 2, 18, 9, 32, 3, 15, 5, 12, 1, 24, 6, 17],`
`‘bot_rating’: [4, 3, 5, 2, 5, 4, 5, 2, 4, 3, 4, 1, 5, 3, 4]`
`}`
`df = pd.DataFrame(data)`
`df.to_csv(‘bot_interactions.csv’, index=False)`

Что нужно сделать:

1. `Загрузите данные в Python с помощью Pandas`
2. `Посчитайте базовые метрики:
  1. `Среднее количество сообщений на пользователя`
  2. `Самую частую оценку бота`
  3. `Процент пользователей с сессией больше 10 минут`
3. `Сделайте 2 простых визуализации (например, гистограмма оценок и scatter plot сообщения vs время)`

```
import pandas as pd
import matplotlib.pyplot as plt
from datetime import datetime, timedelta
import random

data = {
    'user_id': [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15],
    'messages_count': [15, 7, 32, 3, 28, 12, 45, 5, 22, 8, 18, 2, 35, 9, 25],
    'session_minutes': [8, 4, 25, 2, 18, 9, 32, 3, 15, 5, 12, 1, 24, 6, 17],
    'bot_rating': [4, 3, 5, 2, 5, 4, 5, 2, 4, 3, 4, 1, 5, 3, 4]
}
df = pd.DataFrame(data)
print(df.head(15).to_string(index=False)) #Вывод данных 

#Среднее количество сообщений на пользователя:
mean_A = df['messages_count'].mean()
print(f"Среднее количество сообщений на пользователя(messages_count) = {mean_A:}%")

#Процент сессий длиннее 10 минут:

percentage_long_sessions_mean = (df['session_minutes'] > 10).mean() * 100
print(f"Процент сессий длиннее 10 минут(session_minutes)  = {percentage_long_sessions_mean:}%")

#Самая частая оценка бота:

most_frequent_rating = df['bot_rating'].mode()[0]
print('Самая частая оценка бота(bot_rating) =', most_frequent_rating)

#Гистограммы оценок по нескольким столбцам:

selected_columns = ['messages_count', 'session_minutes', 'bot_rating' ]
df[selected_columns].hist(bins=15, alpha=0.7)
plt.suptitle('Гистограммы оценок по нескольким столбцам', x=0.5, y=1.02, ha='center', fontsize='large')
plt.tight_layout() # Автоматически корректирует расположение графиков, чтобы они не перекрывались
plt.show()

#scatter plot сообщения vs время:

# 1. Генерация фиктивных данных
# Создадим список времени отправки сообщений за последние 24 часа
now = datetime.now()
timestamps = [now - timedelta(hours=random.uniform(0, 24), minutes=random.uniform(0, 60)) for _ in range(100)]
# Отсортируем для лучшей визуализации
timestamps.sort()

# Для точечной диаграммы нужна пара координат X и Y.
# X - время
x_values = timestamps
# Y - просто список единиц, чтобы каждая точка имела свое место на графике, 
# или можно использовать другую метрику, например, количество символов в сообщении
y_values = [1] * len(timestamps) # Каждое сообщение - это отдельное событие

# 2. Построение точечной диаграммы
plt.figure(figsize=(10, 6)) # Установка размера графика
plt.scatter(x_values, y_values, alpha=0.5) # Использование функции scatter

# 3. Настройка и отображение графика
plt.xlabel("Время отправки")
plt.ylabel("Активность (Каждое сообщение - точка)")
plt.title("scatter plot: Сообщения vs Время")
plt.yticks([]) # Скрытие меток оси Y, так как они не несут особого смысла в этом контексте
plt.grid(True, axis='x', linestyle='--', alpha=0.6) # Добавление сетки по оси X
plt.tight_layout() # Автоматически подгоняет параметры графика для более плотного размещения
plt.show()
df.to_csv('bot_interactions.csv', index=False)
```
![1.Задание](https://github.com/netgitups/A_challenge_for_the_Data_Science_field/blob/main/img/1.png)
![2_1.Задание](https://github.com/netgitups/A_challenge_for_the_Data_Science_field/blob/main/img/2_1.png)
![2_2.Задание](https://github.com/netgitups/A_challenge_for_the_Data_Science_field/blob/main/img/2_2.png)

# Задание 2. Работа с промтами (YandexGPT --> Алиса AI)

На основе данных из задания 1, сформулируйте 3 разных промта для нейросети:

Промт для анализа - попросите нейросеть проанализировать данные и выделить основные паттерны

```
1. Промт для анализа (выявление ключевых паттернов)
Проанализируй датасет с данными о взаимодействии 15 пользователей с ботом. Выяви и опиши 5–7 значимых паттернов в поведении пользователей и их оценках. Для каждого паттерна:

сформулируй чёткое наблюдение (1 предложение);

приведи подтверждающие числовые показатели из данных (средние значения, диапазоны, проценты, конкретные примеры);

предположите возможную причину или следствие выявленного паттерна (1–2 предложения).

Особое внимание уделите:

взаимосвязи между количеством сообщений (messages_count) и длительностью сессии (session_minutes);

распределению оценок бота (bot_rating) и их связи с активностью пользователей;

пользователям с экстремальными значениями (очень высокая/низкая активность, очень высокие/низкие оценки).

Формат ответа: нумерованный список. Каждый пункт — 3–4 предложения, где первое — наблюдение, второе — цифры, третье‑четвёртое — интерпретация.

```
Промт для улучшения - попросите предложить улучшения для бота на основе данных

```
2. Промт для улучшения (рекомендации по оптимизации бота)
На основе анализа датасета предложи 4–5 конкретных, измеримых улучшений для бота, которые повысят удовлетворённость пользователей и их вовлечённость. Для каждого предложения:

укажи, какую проблему оно решает (со ссылкой на конкретные данные из датасета);

опиши суть изменения (что и как нужно доработать в боте);

объясни, почему это должно сработать (логика, основанная на выявленных паттернах);

предложи метрику для оценки эффективности изменения (что и как будем измерять после внедрения).

Учитывай следующие аспекты:

неравномерность длительности сессий (от 1 до 32 минут);

разброс в количестве сообщений (от 2 до 45);

распределение оценок (от 1 до 5), особенно случаи низких оценок;

возможную связь активности пользователя с его оценкой бота.

Формат ответа: маркированный список. Каждый пункт — 4–5 предложений, структурированных по четырём элементам выше.

```
Промт для сегментации - попросите разделить пользователей на группы по поведению

```
3. Промт для сегментации (группировка пользователей)
Раздели 15 пользователей на 3–4 сегмента на основе их поведения и оценок. Для каждого сегмента:

придумай ёмкое название (1–3 слова), отражающее суть группы;

опиши ключевые характеристики: диапазоны значений по messages_count, session_minutes и bot_rating;

укажи долю сегмента в общей аудитории (в %);

предположи основные мотивы и цели пользователей этого сегмента (2–3 предложения);

предложи 1–2 способа адаптировать взаимодействие с этим сегментом (как лучше общаться, какие функции предлагать).

Используй комбинированный подход:

группировку по порогам (например, «длинные сессии > 20 мин», «высокая активность > 30 сообщений»);

анализ сочетаний признаков (например, «много сообщений + высокая оценка»);

выявление аномалий (пользователей, сильно отличающихся от остальных).

Формат ответа: таблица с колонками:

«Сегмент» (название);

«Характеристики» (диапазоны по трём показателям);

«Доля (%)»;

«Мотивы и цели»;

«Способы адаптации».

После таблицы — краткий вывод (3–4 предложения) о том, как сегментация помогает улучшить работу бота и взаимодействие с пользователями.
```
Достаточно текстового описания промтов, не нужно писать код для API

# Задание 3. Простая аналитика (YandexGPT --> Алиса AI)

Ответьте на вопросы на основе данных:

Какие пользователи чаще ставят высокие оценки (4-5) - те, кто пишет много сообщений или мало?
```
Шаг 1. Выделим пользователей с высокими оценками (4–5)
Из датасета видно, кто поставил 4 или 5:

user_id 1: rating 4, messages 15

user_id 3: rating 5, messages 32

user_id 5: rating 5, messages 28

user_id 6: rating 4, messages 12

user_id 7: rating 5, messages 45

user_id 9: rating 4, messages 22

user_id 11: rating 4, messages 18

user_id 13: rating 5, messages 35

user_id 15: rating 4, messages 25

Всего 9 пользователей оценили бот на 4–5.

Шаг 2. Посмотрим, сколько сообщений они отправили
Список значений messages_count для этих 9 пользователей:
15, 32, 28, 12, 45, 22, 18, 35, 25

Посчитаем статистику:

Среднее: (15+32+28+12+45+22+18+35+25)/9=232/9≈25,8 сообщений

Минимум: 12

Максимум: 45

Медиана (упорядочим: 12, 15, 18, 22, 25, 28, 32, 35, 45): 25

Шаг 3. Сравним с пользователями, поставившими 1–3
Пользователи с оценками 1–3:

user_id 2: rating 3, messages 7

user_id 4: rating 2, messages 3

user_id 8: rating 2, messages 5

user_id 10: rating 3, messages 8

user_id 12: rating 1, messages 2

user_id 14: rating 3, messages 9

Их messages_count: 7, 3, 5, 8, 2, 9

Статистика:

Среднее: (7+3+5+8+2+9)/6=34/6≈5,7 сообщений

Минимум: 2

Максимум: 9

Медиана (упорядочим: 2, 3, 5, 7, 8, 9): (5+7)/2=6

Вывод
Пользователи, поставившие высокие оценки (4–5), в среднем отправляли ~25,8 сообщений за сессию.
Пользователи с низкими оценками (1–3) — в среднем ~5,7 сообщений.

Ответ:
Пользователи, которые пишут много сообщений (в данном датасете — от 12 до 45), чаще ставят высокие оценки (4–5). Те, кто пишет мало сообщений (от 2 до 9), чаще оценивают бот ниже (1–3).

Интерпретация:
Вероятно, более активная коммуникация с ботом коррелирует с удовлетворённостью: пользователи, вовлечённые в долгий диалог, остаются довольны качеством ответов. Напротив, короткие сессии с малым числом сообщений нередко сопровождаются низкими оценками, что может указывать на неудовлетворённость ответом, непонимание со стороны бота или нерешённость задачи.
```
Есть ли связь между временем сессии и оценкой?
```
Проведём анализ связи между длительностью сессии (session_minutes) и оценкой бота (bot_rating) на имеющихся данных.

Шаг 1. Разделим пользователей по уровню оценок
Группа 1: оценки 4–5 (высокие)

user_id 1: 8 мин, оценка 4

user_id 3: 25 мин, оценка 5

user_id 5: 18 мин, оценка 5

user_id 6: 9 мин, оценка 4

user_id 7: 32 мин, оценка 5

user_id 9: 15 мин, оценка 4

user_id 11: 12 мин, оценка 4

user_id 13: 24 мин, оценка 5

user_id 15: 17 мин, оценка 4

Итого: 9 пользователей.

Группа 2: оценки 1–3 (низкие)

user_id 2: 4 мин, оценка 3

user_id 4: 2 мин, оценка 2

user_id 8: 3 мин, оценка 2

user_id 10: 5 мин, оценка 3

user_id 12: 1 мин, оценка 1

user_id 14: 6 мин, оценка 3

Итого: 6 пользователей.

Шаг 2. Посчитаем статистику по длительности сессий
Для высоких оценок (4–5):

Среднее: (8+25+18+9+32+15+12+24+17)/9=160/9≈17,8 мин

Минимум: 8 мин

Максимум: 32 мин

Медиана (упорядочим: 8, 9, 12, 15, 17, 18, 24, 25, 32): 17 мин

Для низких оценок (1–3):

Среднее: (4+2+3+5+1+6)/6=21/6=3,5 мин

Минимум: 1 мин

Максимум: 6 мин

Медиана (упорядочим: 1, 2, 3, 4, 5, 6): (3+4)/2=3,5 мин

Шаг 3. Визуальная проверка парных значений
Сопоставим длительность и оценку для каждого пользователя:

1 мин → 1 (низкая)

2 мин → 2 (низкая)

3 мин → 2 (низкая)

4 мин → 3 (низкая)

5 мин → 3 (низкая)

6 мин → 3 (низкая)

8 мин → 4 (высокая)

9 мин → 4 (высокая)

12 мин → 4 (высокая)

15 мин → 4 (высокая)

17 мин → 4 (высокая)

18 мин → 5 (высокая)

24 мин → 5 (высокая)

25 мин → 5 (высокая)

32 мин → 5 (высокая)

Видно, что:

все сессии до 6 минут сопровождаются низкими оценками (1–3);

все сессии от 8 минут и дольше получают высокие оценки (4–5).

Вывод
Да, между длительностью сессии и оценкой бота наблюдается явная положительная связь:

пользователи, проводившие в сессии больше времени (от 8 минут и выше), регулярно ставят высокие оценки (4–5);

пользователи с короткими сессиями (до 6 минут) дают низкие оценки (1–3).

Интерпретация:

длительные сессии, вероятно, отражают удовлетворённость диалогом: пользователь получает нужные ответы, продолжает общение, решает задачу;

короткие сессии могут означать неудачный опыт: бот не понял запрос, дал неверный ответ, не смог помочь — пользователь быстро завершает диалог и ставит низкую оценку.

Рекомендация:
Проанализировать короткие сессии (до 6 мин) — выявить типичные сценарии, где бот «теряет» пользователя, и доработать ответы/сценарии для повышения удовлетворённости.
```
Предложите 1 идею, как увеличить среднюю оценку бота**
```
Идея: внедрить «чек‑пойнт‑опросы» в середине длительных сессий
Суть предложения
Добавить в сценарий бота автоматизированный короткий опрос после 10–15 минут активного диалога. Вопрос: «Всё ли понятно? Нужна ли дополнительная помощь?» с вариантами ответа:

«Да, всё хорошо» (→ продолжение диалога);

«Нет, объясните иначе» (→ переформулировка ответа);

«Хочу поговорить с оператором» (→ перевод на живого специалиста).

Почему это повысит среднюю оценку

Снижает фрустрацию
Пользователи, которые начинают терять терпение или не понимают ответ, получают шанс «сбросить напряжение» через обратную связь. Это предотвращает низкую оценку из‑за накопившегося негатива.
Демонстрирует заботу
Сам факт вопроса «Всё ли в порядке?» воспринимается как внимание к пользователю — это повышает лояльность.
Исправляет ошибки «на лету»
Если бот неправильно понял запрос, переформулировка или перевод на оператора спасёт сессию от провала.
Прерывает слишком длинные диалоги
Иногда длительная сессия — не признак вовлечённости, а сигнал, что пользователь «заблудился» в диалогах. Чек‑пойнт помогает вовремя свернуть неэффекивный сценарий.
Как измерить эффект

До/после: сравнить среднюю оценку бота за период до внедрения и через 2 недели после;

Конверсия чек‑пойнтов: процент пользователей, выбравших «объясните иначе» или «оператор» (если их много — нужно дорабатывать сценарии);

Длительность сессий: если среднее время снизится, но оценки вырастут — значит, бот стал эффективнее решать задачи без «воды».

Технические нюансы

Триггер: 10–15 минут с начала сессии или 8–10 обменов сообщениями (гибкий порог);

Опрос показывается только если нет явных признаков завершения (например, пользователь не нажал «спасибо» или «всё, спасибо»);

После переформулировки или перевода на оператора сессия помечается как «скорректированная» для аналитики.

Пример диалога

Бот: …Вот подробная инструкция по настройке. Если что‑то непонятно — спрашивайте!
(прошло 12 минут, 9 сообщений)
Бот: Простите, что прерываю. Всё ли понятно в инструкции? Может, стоит объяснить иначе?
Пользователь: Не совсем. Пункт 3 — как именно подключить API?
Бот: Понял! Сейчас расскажу проще и с примерами…
```
